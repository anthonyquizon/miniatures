#!/usr/bin/env bqn
# TODO use 
eâ†@+27                                                    
ToBase64 â† {                                              
  b64 â† âˆ¾ (âŠ£+â†•âˆ˜Â¬Ëœ)Â¨ËË˜ âˆ˜â€¿2â¥Š"AZaz09++//"                    
  K64 â† â¥ŠÂ¨âŸœ(4â‹†âŸ¨1+â†•3,2-â†•3âŸ©)                                # Bytes split as 6/2-4/4-2/6
  lâ†â‰ iâ†ğ•©-@                                                
  "Base64 input must consist of bytes (<@+256)" ! âˆ§Â´256>i 
  fâ†lâ¥Š1+0=â†•3 â‹„ Mâ†((+Â´f)â¥Š0<â†•4) Ã— fâŠ¸/ â‹„ aâ€¿bâ†K64 l           
  vâ†a (âŒŠâˆ˜Ã·Ëœ Â«âŠ¸+â—‹M bÃ—|) i                                  
  (vâŠb64)âˆ¾(3|-l)â¥Š'='                                      
}                                                         

sâ†500
xâ†" "
vâ†0
zâ†0
â€¢term.OutRaw eâˆ¾"[2J"                                       # top
â€¢term.RawMode 1                                           
Exâ†{ğ•Š:
  câ†â€¢term.CharN @
  {xâ†©â‹ˆğ•©}âŸ(â‰ âŸœ0) c
  zâ†©255|z+10
  vâ†©255âŒŠ{"a":v+10;0}x
  dâ†ToBase64 @+âˆ¾255â€¿vâ€¿zÂ¨â†•sÃ—s                           
  â€¢term.OutRaw eâˆ¾"[H"                                       # top
  â€¢term.OutRaw eâˆ¾"_Ga=T,f=24,s=s,v=s;" âˆ¾ d âˆ¾e           # print image
  â€¢term.Flush@                                              
  â€¢Delay 0.05
}
1Ë™âˆ˜Ex â€¢_while_ âŠ¢ 1 
